/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/app.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/main.scss */ \"./src/styles/main.scss\");\n/* harmony import */ var _styles_main_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_styles_main_scss__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_build_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./styles/build.scss */ \"./src/styles/build.scss\");\n/* harmony import */ var _styles_build_scss__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_build_scss__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _styles_machine_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./styles/machine.scss */ \"./src/styles/machine.scss\");\n/* harmony import */ var _styles_machine_scss__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_styles_machine_scss__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _styles_solder_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./styles/solder.scss */ \"./src/styles/solder.scss\");\n/* harmony import */ var _styles_solder_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_styles_solder_scss__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _styles_strike_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/strike.scss */ \"./src/styles/strike.scss\");\n/* harmony import */ var _styles_strike_scss__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_styles_strike_scss__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _scripts_builds_createBuild__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./scripts/builds/createBuild */ \"./src/scripts/builds/createBuild.js\");\n/* harmony import */ var _scripts_sideMenu_sideMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./scripts/sideMenu/sideMenu */ \"./src/scripts/sideMenu/sideMenu.js\");\n/* harmony import */ var _scripts_BD_menu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./scripts/BD/menu */ \"./src/scripts/BD/menu.js\");\n/* harmony import */ var _scripts_enemy_enemy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scripts/enemy/enemy */ \"./src/scripts/enemy/enemy.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nnew _scripts_BD_menu__WEBPACK_IMPORTED_MODULE_7__[\"TodoList\"]();\r\nnew _scripts_sideMenu_sideMenu__WEBPACK_IMPORTED_MODULE_6__[\"SideMenu\"]();\r\nnew _scripts_builds_createBuild__WEBPACK_IMPORTED_MODULE_5__[\"CreateBuild\"]();\r\n\r\nlet enemy = new _scripts_enemy_enemy__WEBPACK_IMPORTED_MODULE_8__[\"Enemy\"]();\r\nenemy.createPlayground();\r\nenemy.createBuildEnemy();\r\nenemy.createSolderEnemy();\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/scripts/BD/all.js":
/*!*******************************!*\
  !*** ./src/scripts/BD/all.js ***!
  \*******************************/
/*! exports provided: allBuild, allSolder, allHeaderMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allBuild\", function() { return allBuild; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allSolder\", function() { return allSolder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"allHeaderMenu\", function() { return allHeaderMenu; });\nlet allBuild = new Map(),\r\n\r\n    allSolder = new Map(),\r\n\r\n    allHeaderMenu = new Map(\r\n        [\r\n            ['credits', {count: document.getElementById('credits').textContent}],\r\n            ['energy', {count: document.getElementById('energy').textContent}]\r\n        ]\r\n    );\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/BD/all.js?");

/***/ }),

/***/ "./src/scripts/BD/indexeDB.js":
/*!************************************!*\
  !*** ./src/scripts/BD/indexeDB.js ***!
  \************************************/
/*! exports provided: TodoStorage, x */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TodoStorage\", function() { return TodoStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"x\", function() { return x; });\nconst DB_NAME = 'TODO';\r\nconst ITEMS_STORAGE_NAME = 'ITEMS';\r\n\r\n\r\nclass TodoStorage {\r\n\r\n    constructor(){\r\n        this.db;\r\n    }\r\n\r\n    init () {\r\n        return new Promise((resolve, reject) => {\r\n            let openRequest = indexedDB.open(DB_NAME, 1);\r\n            openRequest.onerror = err => reject(err);\r\n            openRequest.onsuccess = () => resolve(this.db = openRequest.result);\r\n            openRequest.onupgradeneeded = event => {\r\n                let db = event.target.result;\r\n                db.createObjectStore(ITEMS_STORAGE_NAME, {\r\n                    keyPath: 'id',\r\n                    autoIncrement: true\r\n                });\r\n            };\r\n        });\r\n    }\r\n\r\n\r\n    getAll () {\r\n        return new Promise((resolve, reject) => {\r\n            let transaction = this.db.transaction([ITEMS_STORAGE_NAME], 'readonly');\r\n            let storage = transaction.objectStore(ITEMS_STORAGE_NAME);\r\n            let request = storage.getAll();\r\n            request.onerror = err => reject(err);\r\n            request.onsuccess = () => resolve(request.result);\r\n        });\r\n    }\r\n\r\n    put (item) {\r\n        return new Promise((resolve, reject) => {\r\n            let transaction = this.db.transaction([ITEMS_STORAGE_NAME], 'readwrite');\r\n            let objectStore = transaction.objectStore(ITEMS_STORAGE_NAME);\r\n            let request = objectStore.put(item);\r\n            request.onerror = err => reject(err);\r\n            request.onsuccess = () => resolve(request.result);\r\n        });\r\n    }\r\n\r\n    delete (id) {\r\n        return new Promise((resolve, reject) => {\r\n            let transaction = this.db.transaction([ITEMS_STORAGE_NAME], 'readwrite');\r\n            let objectStore = transaction.objectStore(ITEMS_STORAGE_NAME);\r\n            let request = objectStore.delete(id);\r\n            request.onerror = err => reject(err);\r\n            request.onsuccess = () => resolve(request.result);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nlet x = new TodoStorage();\n\n//# sourceURL=webpack:///./src/scripts/BD/indexeDB.js?");

/***/ }),

/***/ "./src/scripts/BD/menu.js":
/*!********************************!*\
  !*** ./src/scripts/BD/menu.js ***!
  \********************************/
/*! exports provided: TodoList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TodoList\", function() { return TodoList; });\n/* harmony import */ var _indexeDB_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./indexeDB.js */ \"./src/scripts/BD/indexeDB.js\");\n/* harmony import */ var _all_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./all.js */ \"./src/scripts/BD/all.js\");\n/* harmony import */ var _createArmy_createSolder_infantry_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../createArmy/createSolder/infantry.js */ \"./src/scripts/createArmy/createSolder/infantry.js\");\n/* harmony import */ var _createArmy_createSolder_troopers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../createArmy/createSolder/troopers.js */ \"./src/scripts/createArmy/createSolder/troopers.js\");\n/* harmony import */ var _createArmy_createMachine_traik_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../createArmy/createMachine/traik.js */ \"./src/scripts/createArmy/createMachine/traik.js\");\n/* harmony import */ var _createArmy_createMachine_bmp_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../createArmy/createMachine/bmp.js */ \"./src/scripts/createArmy/createMachine/bmp.js\");\n/* harmony import */ var _builds_processingPlant_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../builds/processingPlant.js */ \"./src/scripts/builds/processingPlant.js\");\n/* harmony import */ var _builds_windStation_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../builds/windStation.js */ \"./src/scripts/builds/windStation.js\");\n/* harmony import */ var _builds_barracks_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../builds/barracks.js */ \"./src/scripts/builds/barracks.js\");\n/* harmony import */ var _builds_easyFactory_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../builds/easyFactory.js */ \"./src/scripts/builds/easyFactory.js\");\n/* harmony import */ var _builds_gunshotTurret_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../builds/gunshotTurret.js */ \"./src/scripts/builds/gunshotTurret.js\");\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n/* harmony import */ var _enemy_enemySolder_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../enemy/enemySolder.js */ \"./src/scripts/enemy/enemySolder.js\");\n/* harmony import */ var _createArmy_solder_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../createArmy/solder.js */ \"./src/scripts/createArmy/solder.js\");\n/* harmony import */ var _enemy_enemy_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../enemy/enemy.js */ \"./src/scripts/enemy/enemy.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TodoList {\r\n\r\n    constructor() {\r\n        this.storage = new _indexeDB_js__WEBPACK_IMPORTED_MODULE_0__[\"TodoStorage\"]();\r\n\r\n        this.nameSolder = new Map([\r\n            ['infantry', _createArmy_createSolder_infantry_js__WEBPACK_IMPORTED_MODULE_2__[\"Infantry\"]],\r\n            ['troopers', _createArmy_createSolder_troopers_js__WEBPACK_IMPORTED_MODULE_3__[\"Troopers\"]],\r\n            ['traik', _createArmy_createMachine_traik_js__WEBPACK_IMPORTED_MODULE_4__[\"Traik\"]],\r\n            ['bmp', _createArmy_createMachine_bmp_js__WEBPACK_IMPORTED_MODULE_5__[\"Bmp\"]]\r\n        ]);\r\n\r\n        this.nameBuild = new Map([\r\n            ['windStation', _builds_windStation_js__WEBPACK_IMPORTED_MODULE_7__[\"WindStation\"]],\r\n            ['easyFactory', _builds_easyFactory_js__WEBPACK_IMPORTED_MODULE_9__[\"EasyFactory\"]],\r\n            ['barrack', _builds_barracks_js__WEBPACK_IMPORTED_MODULE_8__[\"Barracks\"]],\r\n            ['processingPlant', _builds_processingPlant_js__WEBPACK_IMPORTED_MODULE_6__[\"ProcessingPlant\"]],\r\n            ['gunshotTurret', _builds_gunshotTurret_js__WEBPACK_IMPORTED_MODULE_10__[\"GunshotTurret\"]]\r\n        ]);\r\n        this.storage.init();\r\n        this.menu = document.getElementById('menu');\r\n        this.menu.addEventListener('click', this);\r\n    }\r\n\r\n    handleEvent(event) {\r\n        switch (event.target.id) {\r\n            case 'saveGame':\r\n                return this.saveGameToStorage();\r\n            case 'loadGame':\r\n                return this.loadGameToStorage();\r\n            case 'restart':\r\n                return TodoList.restartGame();\r\n\r\n        }\r\n    }\r\n\r\n    async saveGameToStorage() {\r\n\r\n        for (let [key, value] of _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allHeaderMenu\"]) {\r\n            value.count = document.getElementById(key).textContent;\r\n        }\r\n\r\n        for (let [key, value] of _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allBuild\"]) {\r\n            value.grid = document.getElementById(key).closest('.gridClass').id;\r\n        }\r\n\r\n        await this.storage.put({allBuild: _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allBuild\"], allSolder: _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allSolder\"], allHeaderMenu: _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allHeaderMenu\"], id: 1});\r\n    }\r\n\r\n    async loadGameToStorage() {\r\n\r\n        TodoList.clearAll();\r\n        TodoList.cleanField();\r\n\r\n        this.storage.init()\r\n            .then(() => this.storage.getAll())\r\n            .then(items => {\r\n                items[0].allSolder.forEach((el) => {\r\n                    let nameClass = this.nameSolder.get(el.class);\r\n                    el.side === 'enemy' ? new _enemy_enemySolder_js__WEBPACK_IMPORTED_MODULE_12__[\"EnemySolder\"](el.hp, 0, el.forse, 0, el.timeWalk, el.timeStrike, el.side, document.getElementById(el.grid)).do(el.class) : new _createArmy_solder_js__WEBPACK_IMPORTED_MODULE_13__[\"Solder\"](el.hp, 0, el.forse, 0, el.timeWalk, el.timeStrike, el.side, document.getElementById(el.grid)).createSolder(el.class);\r\n                });\r\n                new _enemy_enemy_js__WEBPACK_IMPORTED_MODULE_14__[\"Enemy\"]().createSolderEnemy();\r\n\r\n                items[0].allBuild.forEach((el) => {\r\n                    let playground = document.createElement('div');\r\n                    playground.classList.add('playground');\r\n\r\n                    let nameClass = this.nameBuild.get(el.class);\r\n                    let place = el.grid;\r\n                    let build = new nameClass(el.hp, 0, el.side);\r\n\r\n                    document.getElementById(el.class).style.opacity = 0.5;\r\n                    document.getElementById(place).append(playground);\r\n                    playground.append(build.build);\r\n\r\n                    if (build.createMagic !== undefined && build.side === 'player') {\r\n                        build.createMagic()\r\n                    }\r\n                    build.removeListener();\r\n                });\r\n\r\n                items[0].allHeaderMenu.forEach((el, key) => {\r\n                    document.getElementById(key).textContent = el.count;\r\n                });\r\n\r\n            });\r\n    }\r\n\r\n    static cleanField() {\r\n        for (let [key, value] of _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allHeaderMenu\"]) {\r\n            document.getElementById(key).textContent = 1000;\r\n        }\r\n        TodoList.clearAll();\r\n\r\n        for (let y = 0; y < 32; y++) {\r\n            for (let x = 0; x < 32; x++) {\r\n                while (_myGameField_js__WEBPACK_IMPORTED_MODULE_11__[\"myGameField\"][y][x].id.firstChild) {\r\n                    _myGameField_js__WEBPACK_IMPORTED_MODULE_11__[\"myGameField\"][y][x].id.removeChild(_myGameField_js__WEBPACK_IMPORTED_MODULE_11__[\"myGameField\"][y][x].id.firstChild);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    static restartGame() {\r\n        location.reload();\r\n\r\n        window.addEventListener('load', function (e) {\r\n            console.log('Image loaded');\r\n        });\r\n    }\r\n\r\n    async onDelete(id) {\r\n        await this.storage.delete(id);\r\n    }\r\n\r\n    static clearAll() {\r\n        for (let i = 1; i < 99999; i++) {\r\n            window.clearInterval(i);\r\n            window.clearTimeout(i);\r\n        }\r\n        _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allBuild\"].clear();\r\n        _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allSolder\"].clear();\r\n        _all_js__WEBPACK_IMPORTED_MODULE_1__[\"allHeaderMenu\"].clear();\r\n    }\r\n}\r\n\r\nnew TodoList();\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/BD/menu.js?");

/***/ }),

/***/ "./src/scripts/animation.js":
/*!**********************************!*\
  !*** ./src/scripts/animation.js ***!
  \**********************************/
/*! exports provided: MoveAnimetion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MoveAnimetion\", function() { return MoveAnimetion; });\nclass MoveAnimetion {\r\n    constructor(){\r\n        this.animation;\r\n    }\r\n\r\n    move(road, timeWalk, element) {\r\n        let move = [];\r\n        let myRegExpRotate = /-?\\d{1,3}/g;\r\n        move.push({rotate: myRegExpRotate.exec(element.style.transform) | 0});\r\n\r\n        for (let i = 1; i < road.length; i++) {\r\n            let angle = MoveAnimetion.calculateAngle(road[i - 1].x, road[i - 1].y, road[i].x, road[i].y, move[i - 1].rotate);\r\n            move.push({rotate: angle});\r\n        }\r\n\r\n        let moveAndChangeColor = road.length > 1 ? road.map((el, index) => {\r\n            return {\r\n                transform: `translate(${el.id.getBoundingClientRect().left - element.getBoundingClientRect().left}px,\r\n                                      ${el.id.getBoundingClientRect().top - element.getBoundingClientRect().top }px)\r\n                            rotateZ(${move[index].rotate}deg)`\r\n            };\r\n        }) : [];\r\n\r\n\r\n        this.animation = element.animate(\r\n            moveAndChangeColor, {\r\n                duration: road.length * 300 * timeWalk,\r\n                id: element.id\r\n            });\r\n\r\n        return this.animation;\r\n    }\r\n\r\n    static calculateAngle(startX = 0, startY = 0, endX, endY, angleStart) {\r\n        let x1 = startX;\r\n        let y1 = startY;\r\n        let x2 = endX;\r\n        let y2 = endY;\r\n\r\n        x2 = x2 < x1 ? -x2 : x2;\r\n        y2 = y2 < y1 ? -y2 : y2;\r\n\r\n        let dis = Math.abs(x2 - x1) + Math.abs(y2 - y1);\r\n\r\n        //Узнаём угол в градусах\r\n        let angl = Math.round(Math.acos((y2 - y1) / dis) / Math.PI * 180);\r\n\r\n        if (x1 > x2) {\r\n            angl = -angl;\r\n        }\r\n        // console.log(`x1:${x1} y1:${y1} x2:${x2} y2:${y2} angl:${angl}`);\r\n        return -angl;\r\n\r\n    }\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/scripts/animation.js?");

/***/ }),

/***/ "./src/scripts/builds/barracks.js":
/*!****************************************!*\
  !*** ./src/scripts/builds/barracks.js ***!
  \****************************************/
/*! exports provided: Barracks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Barracks\", function() { return Barracks; });\n/* harmony import */ var _building_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./building.js */ \"./src/scripts/builds/building.js\");\n/* harmony import */ var _createArmy_createSolder_createSolders_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createArmy/createSolder/createSolders.js */ \"./src/scripts/createArmy/createSolder/createSolders.js\");\n/* harmony import */ var _processingPlantCar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./processingPlantCar */ \"./src/scripts/builds/processingPlantCar.js\");\n\r\n\r\n\r\n\r\nclass Barracks extends _building_js__WEBPACK_IMPORTED_MODULE_0__[\"Building\"] {//казарма\r\n\r\n    constructor(life, cost, side) {\r\n        super(life, cost, side);\r\n        this.createBarrack();\r\n    }\r\n\r\n    createBarrack() {\r\n        super.createBuild('barrack');\r\n        this.build.addEventListener('dragend', ()=>{\r\n            if (event.target.closest('.playground')){\r\n                this.createMagic();\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    createMagic(){\r\n        this.build.addEventListener('click', () => {\r\n            new _createArmy_createSolder_createSolders_js__WEBPACK_IMPORTED_MODULE_1__[\"CreateSolders\"](this.build);\r\n        });\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/barracks.js?");

/***/ }),

/***/ "./src/scripts/builds/building.js":
/*!****************************************!*\
  !*** ./src/scripts/builds/building.js ***!
  \****************************************/
/*! exports provided: Building */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Building\", function() { return Building; });\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n\r\n\r\n\r\nclass Building {//общий класс\r\n\r\n    constructor(life, cost, side) {\r\n        this.hp = life;\r\n        this.cost = cost;\r\n        this.side = side\r\n        this.element;\r\n        this.build;\r\n        this.id = Math.ceil(Math.random() * 10 ** 10);\r\n        this.bank = document.getElementById('credits');\r\n        this.wrapper = document.getElementById('wrapper');\r\n    }\r\n\r\n    handleEvent(event) {\r\n\r\n        switch (event.type) {\r\n            case 'dragstart':\r\n                this.element = event.target;\r\n                this.wrapper.addEventListener('drop', this);\r\n                return;\r\n            case 'dragover':\r\n                event.preventDefault();\r\n                return;\r\n            case 'drop':\r\n                if (event.target.classList.contains('playground')) {\r\n                    event.target.append(this.element);\r\n                    this.element.removeAttribute('draggable');\r\n                    this.removeListener();\r\n                    document.getElementById(this.element.className).style.opacity = 0.5;\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].get(this.id).grid = this.build.closest('.gridClass').id;\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n    createBuild(buildName) {\r\n        if (this.cost <= this.bank.textContent) {\r\n            document.getElementById(buildName).classList.remove('disabled');\r\n            let build = document.createElement('div');\r\n            build.classList.add(`${buildName}`);\r\n            build.setAttribute('draggable', 'true');\r\n            build.setAttribute('side', this.side);\r\n            build.id = this.id;\r\n            document.getElementById(`${buildName}`).append(build);\r\n            document.getElementById(`${buildName}`).style.opacity = 1;\r\n            this.createHP(build);\r\n            this.bank.textContent = this.bank.textContent - this.cost;\r\n            build.addEventListener('dragstart', this);\r\n            this.build = build;\r\n\r\n            _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].set(this.id, {\r\n                id: this.id,\r\n                class: buildName,\r\n                hp: this.hp,\r\n                side: this.side,\r\n                grid: ''\r\n            });\r\n\r\n            return build;\r\n        }\r\n        else {\r\n            console.log('No money');\r\n        }\r\n    }\r\n\r\n    removeListener() {\r\n        this.build.removeEventListener('dragstart', this);\r\n        this.build.removeEventListener('dragover', this);\r\n        this.wrapper.removeEventListener('drop', this);\r\n    }\r\n\r\n\r\n    createHP(buildNameHP) {\r\n        // let hpValue = document.createElement('div');\r\n        // hpValue.classList.add('hpBuild');\r\n        // hpValue.textContent = this.hp;\r\n        // buildNameHP.append(hpValue);\r\n\r\n        buildNameHP.textContent = this.hp;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/building.js?");

/***/ }),

/***/ "./src/scripts/builds/createBuild.js":
/*!*******************************************!*\
  !*** ./src/scripts/builds/createBuild.js ***!
  \*******************************************/
/*! exports provided: CreateBuild */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBuild\", function() { return CreateBuild; });\n/* harmony import */ var _processingPlant_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./processingPlant.js */ \"./src/scripts/builds/processingPlant.js\");\n/* harmony import */ var _playground_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./playground.js */ \"./src/scripts/builds/playground.js\");\n/* harmony import */ var _windStation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./windStation.js */ \"./src/scripts/builds/windStation.js\");\n/* harmony import */ var _barracks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./barracks.js */ \"./src/scripts/builds/barracks.js\");\n/* harmony import */ var _easyFactory_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./easyFactory.js */ \"./src/scripts/builds/easyFactory.js\");\n/* harmony import */ var _gunshotTurret_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gunshotTurret.js */ \"./src/scripts/builds/gunshotTurret.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreateBuild {\r\n    constructor() {\r\n        this.sideMenu = document.getElementById('sideMenu');\r\n        this.sideMenuBarracks = document.getElementById('barrack');\r\n        this.sideMenuWindStation = document.getElementById('windStation');\r\n        this.sideMenuProcessingPlant = document.getElementById('processingPlant');\r\n        this.sideMenuEasyFactory = document.getElementById('easyFactory');\r\n        this.sideMenuPlayground = document.getElementById('playground');\r\n        this.sideMenuGunshotTurret = document.getElementById('gunshotTurret');\r\n        this.sideMenu.addEventListener('click', this);\r\n    }\r\n\r\n    async handleEvent() {\r\n        let eventPlace = event.target;\r\n        switch (eventPlace) {\r\n            case this.sideMenuBarracks:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createBarracks);\r\n            case this.sideMenuPlayground:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createPlayground);\r\n            case this.sideMenuWindStation:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createWindStation);\r\n            case this.sideMenuProcessingPlant:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createProcessingPlant);\r\n            case this.sideMenuEasyFactory:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createEasyFactory);\r\n            case this.sideMenuGunshotTurret:\r\n                return await CreateBuild.checkPlace(eventPlace, CreateBuild.createGunshotTurret);\r\n\r\n        }\r\n    }\r\n\r\n    static createPlayground(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _playground_js__WEBPACK_IMPORTED_MODULE_1__[\"Playground\"](Infinity, 4));\r\n            }, time * 500 )\r\n        });\r\n    }\r\n\r\n    static createBarracks(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _barracks_js__WEBPACK_IMPORTED_MODULE_3__[\"Barracks\"](150, 100, 'player'));\r\n            }, time * 500 * 2)\r\n        });\r\n    }\r\n\r\n    static createWindStation(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _windStation_js__WEBPACK_IMPORTED_MODULE_2__[\"WindStation\"](100, 50, 'player'));\r\n            }, time * 500 * 1.5)\r\n        });\r\n    }\r\n\r\n    static createProcessingPlant(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _processingPlant_js__WEBPACK_IMPORTED_MODULE_0__[\"ProcessingPlant\"](100, 100, 'player'));\r\n            }, time * 500 * 2)\r\n        });\r\n    }\r\n\r\n    static createEasyFactory(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _easyFactory_js__WEBPACK_IMPORTED_MODULE_4__[\"EasyFactory\"](150, 50, 'player'));\r\n            }, time * 500 * 3)\r\n        });\r\n    }\r\n\r\n    static createGunshotTurret(time = 2) {\r\n        return new Promise(resolve => {\r\n            setTimeout(() => {\r\n                resolve(new _gunshotTurret_js__WEBPACK_IMPORTED_MODULE_5__[\"GunshotTurret\"](100, 120, 'player'));\r\n            }, time * 500 * 3)\r\n        });\r\n    }\r\n\r\n    static async checkPlace(eventPlace, someCreate) {\r\n        if (!eventPlace.classList.contains('disabled') && eventPlace.children.length === 0) {\r\n            eventPlace.classList.add('disabled');\r\n            await someCreate();\r\n            eventPlace.classList.remove('disabled');\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/createBuild.js?");

/***/ }),

/***/ "./src/scripts/builds/easyFactory.js":
/*!*******************************************!*\
  !*** ./src/scripts/builds/easyFactory.js ***!
  \*******************************************/
/*! exports provided: EasyFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EasyFactory\", function() { return EasyFactory; });\n/* harmony import */ var _building_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./building.js */ \"./src/scripts/builds/building.js\");\n/* harmony import */ var _createArmy_createMachine_createMachine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createArmy/createMachine/createMachine.js */ \"./src/scripts/createArmy/createMachine/createMachine.js\");\n\r\n\r\n\r\nclass EasyFactory extends _building_js__WEBPACK_IMPORTED_MODULE_0__[\"Building\"] {\r\n    constructor(life = 100, cost, side) {\r\n        super(life, cost, side);\r\n        this.createEasyFactory();\r\n    }\r\n\r\n    createEasyFactory() {\r\n        super.createBuild('easyFactory');\r\n        this.build.addEventListener('click', () => {\r\n            new _createArmy_createMachine_createMachine_js__WEBPACK_IMPORTED_MODULE_1__[\"CreateMachine\"](this.easyFactory);\r\n            if (event.target.closest('.playground')){\r\n                this.createMagic();\r\n            }\r\n        });\r\n    }\r\n\r\n    createMagic(){\r\n        this.build.addEventListener('click', () => {\r\n            new _createArmy_createMachine_createMachine_js__WEBPACK_IMPORTED_MODULE_1__[\"CreateMachine\"](this.build);\r\n        });\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/easyFactory.js?");

/***/ }),

/***/ "./src/scripts/builds/gunshotTurret.js":
/*!*********************************************!*\
  !*** ./src/scripts/builds/gunshotTurret.js ***!
  \*********************************************/
/*! exports provided: GunshotTurret */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GunshotTurret\", function() { return GunshotTurret; });\n/* harmony import */ var _building_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./building.js */ \"./src/scripts/builds/building.js\");\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n/* harmony import */ var _createArmy_strike_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../createArmy/strike.js */ \"./src/scripts/createArmy/strike.js\");\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass GunshotTurret extends _building_js__WEBPACK_IMPORTED_MODULE_0__[\"Building\"] {\r\n\r\n    constructor(life, cost, side) {\r\n        super(100, cost, side);\r\n        this.timer;\r\n        this.solder = {\r\n            hp: life,\r\n            cost: cost,\r\n            timeStrike: 2,\r\n            forse: 1,\r\n            id: this.id,\r\n            side: this.side\r\n        };\r\n        this.createGunshotTurret();\r\n    }\r\n\r\n    createGunshotTurret() {\r\n        super.createBuild('gunshotTurret');\r\n        this.build.addEventListener('dragend', () => {\r\n            if (event.target.closest('.playground')) {\r\n                this.createMagic();\r\n            }\r\n        });\r\n    }\r\n\r\n    createMagic() {\r\n        this.path = {\r\n            road: [],\r\n            close: new Map()\r\n        };\r\n        let position = this.build.parentElement.closest('.gridClass');\r\n        let positionX = position.getAttribute('x') - 2;\r\n        let positionY = position.getAttribute('y') - 2;\r\n        let enemy = this.solder.side === 'player' ? 'enemy' : 'player';\r\n        for (let y = 0; y < 5; y++) {\r\n            for (let x = 0; x < 5; x++) {\r\n                let haveInMyGameField = false;\r\n                if ((positionX + x > -1 && positionX + x <= _myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"].length - 1) && (positionY + y > 0 && positionY + y <= _myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"].length - 1)) {\r\n                    haveInMyGameField = true;\r\n                }\r\n                if (haveInMyGameField && this.build.closest('.gridClass') !== _myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"][positionY + y][positionX + x].id) {\r\n                    this.path.road.push({id: _myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"][positionY + y][positionX + x].id});\r\n                }\r\n            }\r\n        }\r\n        this.path.road.push({id: this.build.closest('.gridClass')});\r\n        this.path.close.set(1, 1);\r\n        this.path.close.set(2, 2);\r\n\r\n        this.timer = setTimeout(async function str(findEnemyDistance, path, solder, timer) {\r\n            if (_BD_all_js__WEBPACK_IMPORTED_MODULE_3__[\"allBuild\"].has(solder.id)) {\r\n                for (let value of Object.values(path.road)) {\r\n                    let x = findEnemyDistance(solder);\r\n                    let minPositionEnemy = x.minPositionEnemy,\r\n                        positionEnemy = x.positionEnemy;\r\n                    if (!value.id.classList.contains('damage') && !document.getElementById(solder.id).classList.contains('damage') && minPositionEnemy < 300) {\r\n                        await new _createArmy_strike_js__WEBPACK_IMPORTED_MODULE_2__[\"Strike\"]().strike(path, solder, positionEnemy)\r\n                    }\r\n                }\r\n                timer = setTimeout(str, solder.timeStrike * 300, findEnemyDistance, path, solder, timer);\r\n            }\r\n            else {\r\n                clearTimeout(timer);\r\n            }\r\n        }, 1000, this.findEnemyDistance, this.path, this.solder, this.timer);\r\n    }\r\n\r\n    findEnemyDistance(solder) {\r\n\r\n        let enemy = solder.side === 'player' ? 'enemy' : 'player';\r\n\r\n        let minDist = new Map();\r\n\r\n        let allPositionEnemy = document.getElementById('wrapper').querySelectorAll(`[side=${enemy}]`); //enemy\r\n\r\n        [...allPositionEnemy].forEach((el) => {\r\n            let elPosition = el.getBoundingClientRect();\r\n            let x = Math.abs(elPosition.left - document.getElementById(solder.id).getBoundingClientRect().left),\r\n                y = Math.abs(elPosition.top - document.getElementById(solder.id).getBoundingClientRect().top);\r\n            let distance = Math.floor(Math.sqrt(x ** 2 + y ** 2));\r\n            minDist.set(distance, el);\r\n        });\r\n\r\n        let minPositionEnemy = Math.min(...minDist.keys()),\r\n            positionEnemy = minDist.get(minPositionEnemy);\r\n        return {minPositionEnemy, positionEnemy};\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/builds/gunshotTurret.js?");

/***/ }),

/***/ "./src/scripts/builds/playground.js":
/*!******************************************!*\
  !*** ./src/scripts/builds/playground.js ***!
  \******************************************/
/*! exports provided: Playground */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Playground\", function() { return Playground; });\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n\r\n\r\nclass Playground {//площадь\r\n\r\n    constructor() {\r\n        this.playground = this.createPlayground();\r\n        // this.element;\r\n        document.body.addEventListener('dragover', this);\r\n    }\r\n\r\n    handleEvent(event) {\r\n        switch (event.type) {\r\n            case 'dragstart':\r\n                this.element = event.target;\r\n                document.body.addEventListener('drop', this);\r\n                return;\r\n            case 'dragover':\r\n                event.preventDefault();\r\n                return;\r\n            case 'drop':\r\n                let x = event.target.getAttribute('x'),\r\n                    y = event.target.getAttribute('y');\r\n                if (event.target.classList.contains('gridClass') && !_myGameField_js__WEBPACK_IMPORTED_MODULE_0__[\"myGameField\"][y][x].rock && !_myGameField_js__WEBPACK_IMPORTED_MODULE_0__[\"myGameField\"][y][x].spice) {\r\n                    event.target.append(this.element);\r\n                    this.element.setAttribute('draggable', 'false');\r\n                    document.getElementById('playground').style.opacity = 0.5;\r\n                    this.element.removeEventListener('dragstart', this);\r\n                    document.body.removeEventListener('drop', this);\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n\r\n    createPlayground() {\r\n        let playground = document.createElement('div');\r\n        playground.classList.add('playground');\r\n        playground.setAttribute('draggable', 'true');\r\n        document.getElementById('playground').append(playground);\r\n        document.getElementById('playground').style.opacity = 1;\r\n        playground.addEventListener('dragstart', this);\r\n        return playground;\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/playground.js?");

/***/ }),

/***/ "./src/scripts/builds/processingPlant.js":
/*!***********************************************!*\
  !*** ./src/scripts/builds/processingPlant.js ***!
  \***********************************************/
/*! exports provided: ProcessingPlant */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProcessingPlant\", function() { return ProcessingPlant; });\n/* harmony import */ var _building_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./building.js */ \"./src/scripts/builds/building.js\");\n/* harmony import */ var _processingPlantCar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./processingPlantCar.js */ \"./src/scripts/builds/processingPlantCar.js\");\n\r\n\r\n\r\nclass ProcessingPlant extends _building_js__WEBPACK_IMPORTED_MODULE_0__[\"Building\"] {\r\n    constructor(life = 100, size, side) {\r\n        super(life, size, side);\r\n        this.createProcessingPlant();\r\n    }\r\n\r\n    createProcessingPlant() {\r\n        let processingPlant = super.createBuild('processingPlant');\r\n        processingPlant.addEventListener('dragend', ()=>{\r\n            if (event.target.closest('.playground')){\r\n                new _processingPlantCar_js__WEBPACK_IMPORTED_MODULE_1__[\"ProcessingPlantCar\"](processingPlant);\r\n            }\r\n\r\n        })\r\n    }\r\n\r\n    createMagic(){\r\n        new _processingPlantCar_js__WEBPACK_IMPORTED_MODULE_1__[\"ProcessingPlantCar\"](this.build);\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/scripts/builds/processingPlant.js?");

/***/ }),

/***/ "./src/scripts/builds/processingPlantCar.js":
/*!**************************************************!*\
  !*** ./src/scripts/builds/processingPlantCar.js ***!
  \**************************************************/
/*! exports provided: ProcessingPlantCar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProcessingPlantCar\", function() { return ProcessingPlantCar; });\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n/* harmony import */ var _pathFinder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pathFinder.js */ \"./src/scripts/pathFinder.js\");\n/* harmony import */ var _animation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../animation.js */ \"./src/scripts/animation.js\");\n\r\n\r\n\r\n\r\nclass ProcessingPlantCar {\r\n\r\n    constructor(processingPlant) {\r\n        this.processingPlant = processingPlant;\r\n        this.processingPlantCar = {\r\n            hp: 100,\r\n            id: ''\r\n        };\r\n        this.createProcessingPlantCar();\r\n        this.moveProcessingPlantCar();\r\n\r\n    }\r\n\r\n    createProcessingPlantCar() {\r\n        this.processingPlantCar.id = document.createElement('div');\r\n        this.processingPlantCar.id.classList.add('machine');\r\n        this.processingPlant.append(this.processingPlantCar.id);\r\n    }\r\n\r\n    getCoordinatesProcessingPlantCar() {\r\n        let positionCar = this.processingPlantCar.id.getBoundingClientRect();\r\n        let minPosition = new Map();\r\n\r\n        _myGameField_js__WEBPACK_IMPORTED_MODULE_0__[\"myGameField\"].forEach((y) => {\r\n            y.forEach((x) => {\r\n                if (x.spice) {\r\n                    let locationGameFieldX = x.id.getBoundingClientRect().x - positionCar.x,\r\n                        locationGameFieldY = x.id.getBoundingClientRect().y - positionCar.y,\r\n                        locationGameField = Math.sqrt((locationGameFieldX ** 2 + locationGameFieldY ** 2));\r\n                    minPosition.set(locationGameField, [locationGameFieldX + positionCar.x, locationGameFieldY + positionCar.y]);\r\n                }\r\n            });\r\n        });\r\n        let id = Math.min(...minPosition.keys());\r\n        let [positionSpiceX, positionSpiceY] = minPosition.get(id);\r\n\r\n        return document.elementFromPoint(positionSpiceX, positionSpiceY).closest('.gridClass');\r\n    }\r\n\r\n    async moveProcessingPlantCar() {\r\n        let start = this.processingPlantCar.id.closest('.gridClass');\r\n        let startY = start.getAttribute('y');\r\n        let startX = start.getAttribute('x');\r\n        let end = this.getCoordinatesProcessingPlantCar();\r\n        let endY = end.getAttribute('y');\r\n        let endX = end.getAttribute('x');\r\n        let path = new _pathFinder_js__WEBPACK_IMPORTED_MODULE_1__[\"PathFinder\"](_myGameField_js__WEBPACK_IMPORTED_MODULE_0__[\"myGameField\"], startY, startX, endY, endX);\r\n        let count = 0;\r\n\r\n        setTimeout(function run(processingCar, anime) {\r\n\r\n            let hasProcessingPlant = path.road.some((el) => {\r\n                return el.id.querySelector('.processingPlant');\r\n            });\r\n\r\n            if (hasProcessingPlant) {\r\n                count++;\r\n                anime = new _animation_js__WEBPACK_IMPORTED_MODULE_2__[\"MoveAnimetion\"]().move(path.road, 2, processingCar);\r\n                anime.onfinish = () => {\r\n                    path.road[path.road.length - 1].id.append(processingCar);\r\n                    path.road.reverse();\r\n                    count % 2 === 0  ? document.getElementById('credits').textContent = `${parseInt(document.getElementById('credits').textContent) + 20}` : 0;\r\n                    setTimeout(run, path.road.length * 300 * 3 + 50, processingCar, anime);\r\n                };\r\n            }\r\n            else {\r\n                processingCar.remove();\r\n            }\r\n        }, 0, this.processingPlantCar.id)\r\n\r\n\r\n    }\r\n\r\n    getSpice() {\r\n        document.getElementById('credits').textContent = `${parseInt(document.getElementById('credits').textContent) + 20}`;\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/builds/processingPlantCar.js?");

/***/ }),

/***/ "./src/scripts/builds/windStation.js":
/*!*******************************************!*\
  !*** ./src/scripts/builds/windStation.js ***!
  \*******************************************/
/*! exports provided: WindStation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WindStation\", function() { return WindStation; });\n/* harmony import */ var _building_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./building.js */ \"./src/scripts/builds/building.js\");\n\r\n\r\nclass WindStation extends _building_js__WEBPACK_IMPORTED_MODULE_0__[\"Building\"] {\r\n\r\n    constructor(life, size, side) {\r\n        super(life, size, side);\r\n        this.energy = document.getElementById('energy');\r\n        this.createWindStation();\r\n    }\r\n\r\n    createWindStation() {\r\n        super.createBuild('windStation');\r\n        this.build.addEventListener('dragend', () => {\r\n            if (event.target.closest('.playground')){\r\n                this.createMagic();\r\n            }\r\n        })\r\n    }\r\n\r\n    createMagic() {\r\n        let time = setInterval(() => {\r\n            this.energy.textContent++;\r\n            if (!this.build.closest('.gridClass')) {\r\n                clearInterval(time);\r\n            }\r\n        }, 500);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/builds/windStation.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createMachine/bmp.js":
/*!*****************************************************!*\
  !*** ./src/scripts/createArmy/createMachine/bmp.js ***!
  \*****************************************************/
/*! exports provided: Bmp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Bmp\", function() { return Bmp; });\n/* harmony import */ var _solder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../solder.js */ \"./src/scripts/createArmy/solder.js\");\n\r\n\r\nclass Bmp extends _solder_js__WEBPACK_IMPORTED_MODULE_0__[\"Solder\"] {\r\n    constructor(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack) {\r\n        super(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack);\r\n        this.createInfantry();\r\n    }\r\n\r\n    createInfantry() {\r\n         super.createSolder('bmp');\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createMachine/bmp.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createMachine/createMachine.js":
/*!***************************************************************!*\
  !*** ./src/scripts/createArmy/createMachine/createMachine.js ***!
  \***************************************************************/
/*! exports provided: CreateMachine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMachine\", function() { return CreateMachine; });\n/* harmony import */ var _bmp_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bmp.js */ \"./src/scripts/createArmy/createMachine/bmp.js\");\n/* harmony import */ var _traik_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./traik.js */ \"./src/scripts/createArmy/createMachine/traik.js\");\n\r\n\r\n\r\nclass CreateMachine {\r\n\r\n\r\n\r\n    constructor(factory) {\r\n        this.factory = factory;\r\n        this.sideMenuMachine = document.getElementById('machineSideMenu');\r\n        document.body.addEventListener('click', this);\r\n    }\r\n\r\n    async handleEvent() {\r\n        let element = event.target;\r\n        if (!element.closest('#sideMenu') && this.factory !== element) {\r\n            this.sideMenuMachine.style.display = 'none';\r\n            document.body.removeEventListener('click', this);\r\n        }\r\n\r\n        if (this.sideMenuMachine.style.display !== 'grid' && this.factory === element && element.getAttribute('side') === 'player') {\r\n            document.getElementById('buildSideMenu').style.display = 'none';\r\n            document.getElementById('solderSideMenu').style.display = 'none';\r\n            this.sideMenuMachine.style.display = 'grid';\r\n        }\r\n        else if (element.closest('#machineSideMenu')) {\r\n            this.createUnit();\r\n        }\r\n        // else if (event.target.closest('#buttonMachineSideMenu')) {\r\n        //     this.sideMenuMachine.style.display = 'grid';\r\n        // }\r\n    }\r\n\r\n    createUnit() {\r\n        let nameSolder = event.target;\r\n\r\n        switch (nameSolder.id) {\r\n            case 'bmp':\r\n                return this.checkPlace(nameSolder, this.createBmp);\r\n            case 'traik':\r\n                return this.checkPlace(nameSolder, this.createTraik);\r\n        }\r\n\r\n    }\r\n\r\n    createBmp() {\r\n        new _bmp_js__WEBPACK_IMPORTED_MODULE_0__[\"Bmp\"](180, 50, 5, 2, 2, 3, 'player', this.factory)\r\n    }\r\n\r\n    createTraik() {\r\n        new _traik_js__WEBPACK_IMPORTED_MODULE_1__[\"Traik\"](200, 40, 4, 3, 2, 3, 'player', this.factory)\r\n    }\r\n\r\n    checkPlace(eventPlace, someCreate) {\r\n        if (!eventPlace.classList.contains('disabled')) {\r\n            eventPlace.classList.add('disabled');\r\n            someCreate.call(this);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createMachine/createMachine.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createMachine/traik.js":
/*!*******************************************************!*\
  !*** ./src/scripts/createArmy/createMachine/traik.js ***!
  \*******************************************************/
/*! exports provided: Traik */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Traik\", function() { return Traik; });\n/* harmony import */ var _solder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../solder.js */ \"./src/scripts/createArmy/solder.js\");\n\r\n\r\nclass Traik extends _solder_js__WEBPACK_IMPORTED_MODULE_0__[\"Solder\"] {\r\n    constructor(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack) {\r\n        super(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack);\r\n        this.createInfantry();\r\n    }\r\n\r\n    createInfantry() {\r\n        super.createSolder('traik')\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createMachine/traik.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createSolder/createSolders.js":
/*!**************************************************************!*\
  !*** ./src/scripts/createArmy/createSolder/createSolders.js ***!
  \**************************************************************/
/*! exports provided: CreateSolders */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateSolders\", function() { return CreateSolders; });\n/* harmony import */ var _infantry_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./infantry.js */ \"./src/scripts/createArmy/createSolder/infantry.js\");\n/* harmony import */ var _troopers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./troopers.js */ \"./src/scripts/createArmy/createSolder/troopers.js\");\n\r\n\r\n\r\nclass CreateSolders {\r\n\r\n    constructor(barrack) {\r\n        this.barrack = barrack;\r\n        this.sideMenuSolder = document.getElementById('solderSideMenu');\r\n        document.body.addEventListener('click', this);\r\n    }\r\n\r\n    async handleEvent() {\r\n        let element = event.target;\r\n        if (!element.closest('#sideMenu') && this.barrack !== element) {\r\n            this.sideMenuSolder.style.display = 'none';\r\n            document.body.removeEventListener('click', this);\r\n        }\r\n\r\n        if (this.sideMenuSolder.style.display !== 'grid' && this.barrack === element && element.getAttribute('side') === 'player') {\r\n            document.getElementById('buildSideMenu').style.display = 'none';\r\n            document.getElementById('machineSideMenu').style.display = 'none';\r\n            this.sideMenuSolder.style.display = 'grid';\r\n        }\r\n        else if (element.closest('#solderSideMenu')) {\r\n            this.createUnit();\r\n        }\r\n        // else if (element.closest('#buttonSolderSideMenu')) {\r\n        //     this.sideMenuSolder.style.display = 'grid';\r\n        // }\r\n    }\r\n\r\n    createUnit() {\r\n        let nameSolder = event.target;\r\n\r\n        switch (nameSolder.id) {\r\n            case 'infantry':\r\n                return this.checkPlace(nameSolder, this.createInfantry);\r\n            case 'troopers':\r\n                return this.checkPlace(nameSolder, this.createTroopers);\r\n        }\r\n\r\n    }\r\n\r\n    createInfantry() {\r\n        new _infantry_js__WEBPACK_IMPORTED_MODULE_0__[\"Infantry\"](100, 10, 2, 2, 5, 3, 'player', this.barrack);\r\n\r\n    }\r\n\r\n    createTroopers() {\r\n        new _troopers_js__WEBPACK_IMPORTED_MODULE_1__[\"Troopers\"](120, 15, 4, 3, 6, 4, 'player', this.barrack)\r\n    }\r\n\r\n    checkPlace(eventPlace, someCreate) {\r\n        if (!eventPlace.classList.contains('disabled')) {\r\n            eventPlace.classList.add('disabled');\r\n            someCreate.call(this);\r\n        }\r\n        else {\r\n            console.log(`Очередь занята`)\r\n        }\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createSolder/createSolders.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createSolder/infantry.js":
/*!*********************************************************!*\
  !*** ./src/scripts/createArmy/createSolder/infantry.js ***!
  \*********************************************************/
/*! exports provided: Infantry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Infantry\", function() { return Infantry; });\n/* harmony import */ var _solder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../solder.js */ \"./src/scripts/createArmy/solder.js\");\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../BD/all.js */ \"./src/scripts/BD/all.js\");\n\r\n\r\n\r\nclass Infantry extends _solder_js__WEBPACK_IMPORTED_MODULE_0__[\"Solder\"] {\r\n    constructor(hp, cost, forse, timeWalk, timeCreate, timeStrike, side,  barrack) {\r\n        super(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack);\r\n        this.createInfantry();\r\n    }\r\n\r\n     createInfantry() {\r\n        super.createSolder('infantry');\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createSolder/infantry.js?");

/***/ }),

/***/ "./src/scripts/createArmy/createSolder/troopers.js":
/*!*********************************************************!*\
  !*** ./src/scripts/createArmy/createSolder/troopers.js ***!
  \*********************************************************/
/*! exports provided: Troopers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Troopers\", function() { return Troopers; });\n/* harmony import */ var _solder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../solder.js */ \"./src/scripts/createArmy/solder.js\");\n\r\n\r\nclass Troopers extends _solder_js__WEBPACK_IMPORTED_MODULE_0__[\"Solder\"] {\r\n    constructor(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack) {\r\n        super(hp, cost, forse, timeWalk, timeCreate, timeStrike, side, barrack);\r\n        this.createTroopers();\r\n    }\r\n\r\n    createTroopers() {\r\n        let Troopers = super.createSolder('troopers');\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/createSolder/troopers.js?");

/***/ }),

/***/ "./src/scripts/createArmy/solder.js":
/*!******************************************!*\
  !*** ./src/scripts/createArmy/solder.js ***!
  \******************************************/
/*! exports provided: Solder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Solder\", function() { return Solder; });\n/* harmony import */ var _pathFinder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pathFinder.js */ \"./src/scripts/pathFinder.js\");\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n/* harmony import */ var _strike_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./strike.js */ \"./src/scripts/createArmy/strike.js\");\n/* harmony import */ var _animation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../animation.js */ \"./src/scripts/animation.js\");\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Solder {\r\n\r\n    constructor(hp = 100, cost = 10, forse = 100, timeCreate = 1, timeWalk = 1, timeStrike = 1, side, barrack) {\r\n        this.barrack = barrack;\r\n        this.animation;\r\n        this.timer;\r\n        this.element;\r\n        this.bank = document.getElementById('credits');\r\n        this.id = Math.ceil(Math.random() * 10 ** 10);\r\n        this.solder = {\r\n            hp: hp,\r\n            cost: cost,\r\n            timeCreate: timeCreate,\r\n            timeWalk: timeWalk,\r\n            timeStrike: timeStrike,\r\n            forse: forse,\r\n            side: side,\r\n            id: ''\r\n        };\r\n    }\r\n\r\n    handleEvent(event) {\r\n        switch (event.type) {\r\n            case 'dblclick':\r\n                let startElement = event.target.closest('.gridClass');\r\n                return this.selectSolder(startElement);\r\n            case 'click':\r\n                return this.moveSolder()\r\n        }\r\n    }\r\n\r\n    createSolder(typeSolder) {\r\n        if (this.solder.cost <= this.bank.textContent) {\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    this.element = document.createElement('div');\r\n                    this.element.classList.add(typeSolder);\r\n                    this.createHP(this.element);\r\n                    this.element.setAttribute('side', this.solder.side);\r\n                    this.barrack.append(this.element);\r\n                    this.element.addEventListener('dblclick', this);\r\n                    this.element.id = this.id;\r\n                    this.solder.id = this.id;\r\n                    this.bank.textContent = this.bank.textContent - this.solder.cost;\r\n                    document.getElementById(typeSolder).classList.remove('disabled');\r\n\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_4__[\"allSolder\"].set(this.id, {\r\n                        timeWalk: this.solder.timeWalk,\r\n                        forse: this.solder.forse,\r\n                        id: this.id,\r\n                        class: typeSolder,\r\n                        hp: this.element.textContent,\r\n                        side: this.solder.side,\r\n                        grid: this.element.closest('.gridClass').id,\r\n                    });\r\n                    resolve(this);\r\n\r\n                }, this.solder.timeCreate * 500)\r\n            });\r\n        }\r\n        else {\r\n            console.log('No money');\r\n        }\r\n    }\r\n\r\n    selectSolder(startElement) {\r\n        this.element.style.outline = '3px solid green';\r\n        let startY = startElement.getAttribute('y');\r\n        let startX = startElement.getAttribute('x');\r\n        return this.moveSolder(startY, startX);\r\n    }\r\n\r\n    moveSolder(startY, startX) {\r\n        document.getElementById('wrapper').addEventListener('click', async () => {\r\n            this.element.style.outline = '';\r\n            let endElement = event.target.closest('.gridClass');\r\n            let endY = endElement.getAttribute('y'),\r\n                endX = endElement.getAttribute('x');\r\n\r\n            if (this.animation) {\r\n                this.animation.pause();\r\n                let position = this.element.getBoundingClientRect();\r\n                let parrentCoord = document.elementsFromPoint(position.x, position.y);\r\n                parrentCoord.find((el) => {\r\n                    if (el.classList.contains('gridClass')) {\r\n                        return el;\r\n                    }\r\n                }).append(this.element);\r\n                this.animation.cancel();\r\n                this.animation = undefined;\r\n            }\r\n            if (!_myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"][endY][endX].rock) {\r\n                let path = new _pathFinder_js__WEBPACK_IMPORTED_MODULE_0__[\"PathFinder\"](_myGameField_js__WEBPACK_IMPORTED_MODULE_1__[\"myGameField\"], startY, startX, endY, endX);\r\n\r\n                this.animation = new _animation_js__WEBPACK_IMPORTED_MODULE_3__[\"MoveAnimetion\"]().move(path.road, this.solder.timeWalk, this.element);\r\n\r\n                // if (myGameField[endY][endX].id.querySelector('[side]')) {\r\n                //     this.animation = new MoveAnimetion().move(path.road, this.solder.timeWalk, this.element);\r\n                // }\r\n                // else {\r\n                //     this.animation = new MoveAnimetion().move(path.road, this.solder.timeWalk, this.element);\r\n                // }\r\n\r\n                this.animation.onfinish = () => {\r\n                    if (_BD_all_js__WEBPACK_IMPORTED_MODULE_4__[\"allSolder\"].has(this.id)) {\r\n                        path.road[path.road.length - 1].id.append(this.element);\r\n                        _BD_all_js__WEBPACK_IMPORTED_MODULE_4__[\"allSolder\"].get(this.id).grid = endElement.id;\r\n                        this.element.style.transform = `rotateZ(${0}deg)`;\r\n                        this.animation = undefined;\r\n                    }\r\n                    else {\r\n                        this.element.remove();\r\n                    }\r\n\r\n                };\r\n                this.strikePlayer(path);\r\n            }\r\n        }, {once: true});\r\n    }\r\n\r\n    findEnemyDistance(solder) {\r\n\r\n        let enemy = solder.side === 'player' ? 'enemy' : 'player';\r\n\r\n        let minDist = new Map();\r\n\r\n        let allPositionEnemy = document.getElementById('wrapper').querySelectorAll(`[side=${enemy}]`); //enemy\r\n\r\n        [...allPositionEnemy].forEach((el) => {\r\n            let elPosition = el.getBoundingClientRect();\r\n            let x = Math.abs(elPosition.left - document.getElementById(solder.id).getBoundingClientRect().left),\r\n                y = Math.abs(elPosition.top - document.getElementById(solder.id).getBoundingClientRect().top);\r\n            let distance = Math.floor(Math.sqrt(x ** 2 + y ** 2));\r\n            minDist.set(distance, el);\r\n        });\r\n\r\n        let minPositionEnemy = Math.min(...minDist.keys()),\r\n            positionEnemy = minDist.get(minPositionEnemy);\r\n        return {minPositionEnemy, positionEnemy};\r\n    }\r\n\r\n    strikePlayer(path) {\r\n        return new Promise(resolve => {\r\n            this.timer = setTimeout(function go(path, findEnemyDistance, solder, timer) {\r\n                let x = findEnemyDistance(solder);\r\n                let minPositionEnemy = x.minPositionEnemy,\r\n                    positionEnemy = x.positionEnemy;\r\n                if (Math.abs(minPositionEnemy) < 250 && !positionEnemy.classList.contains('damage') && !document.getElementById(solder.id).classList.contains('damage')) {\r\n                    resolve(new _strike_js__WEBPACK_IMPORTED_MODULE_2__[\"Strike\"]().strike(path, solder, positionEnemy, timer));\r\n                    timer = setTimeout(go, solder.timeStrike * 600, path, findEnemyDistance, solder, positionEnemy, timer)\r\n                }\r\n                else {\r\n                    resolve();\r\n                }\r\n            }, path.road.length * 300 * this.solder.timeWalk, path, this.findEnemyDistance, this.solder, this.timer);\r\n        })\r\n    }\r\n\r\n    createHP(solderNameHP) {\r\n        let hpValue = document.createElement('div');\r\n        hpValue.classList.add('hpSolder');\r\n        hpValue.textContent = this.solder.hp;\r\n        solderNameHP.append(hpValue);\r\n    }\r\n\r\n}\r\n\n\n//# sourceURL=webpack:///./src/scripts/createArmy/solder.js?");

/***/ }),

/***/ "./src/scripts/createArmy/strike.js":
/*!******************************************!*\
  !*** ./src/scripts/createArmy/strike.js ***!
  \******************************************/
/*! exports provided: Strike */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Strike\", function() { return Strike; });\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n\r\n\r\nclass Strike {\r\n\r\n    async strike(path, solder, enemy, timer) {\r\n\r\n        let strike = document.createElement('div');\r\n        let solderPos = document.getElementById(solder.id);\r\n        let positionEnemy = enemy.getBoundingClientRect();\r\n        let end = path.road[path.road.length - 1].id.getBoundingClientRect();\r\n        strike.classList.add('piy');\r\n\r\n        strike.style.left = `${solderPos.closest('.gridClass').offsetLeft}px`;\r\n        strike.style.top = `${ solderPos.closest('.gridClass').offsetTop}px`;\r\n\r\n        document.getElementById('wrapper').append(strike);\r\n        strike.style.transition = 0.300 + 's';\r\n        let angle = Strike.calculateAngle(positionEnemy.left, positionEnemy.top, end.left, end.top,);\r\n        if (!solderPos.classList.contains('gunshotTurret')) {\r\n            solderPos.style.transform = `rotateZ(${angle}deg)`;\r\n        }\r\n\r\n        strike.style.transform = `translate(${positionEnemy.left - path.road[path.road.length - 1].id.getBoundingClientRect().left + 32}px,\r\n                                            ${positionEnemy.top - end.top + 32}px)`;\r\n\r\n        strike.addEventListener('transitionend', async () => {\r\n            strike.remove();\r\n\r\n            if (enemy.firstChild.textContent - solder.forse > 0) {\r\n                enemy.firstChild.textContent = enemy.firstChild.textContent - solder.forse;\r\n\r\n                if (_BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allSolder\"].has(+enemy.id)) {\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allSolder\"].get(+enemy.id).hp = enemy.firstChild.textContent;\r\n                    // allSolder.get(solder.id).grid = path.road[path.road.length - 1].id.id;\r\n                }\r\n                else if (_BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].has(+enemy.id)) {\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].get(+enemy.id).hp = enemy.firstChild.textContent;\r\n                }\r\n\r\n\r\n            }\r\n            else {\r\n                enemy.firstChild.textContent = 0;\r\n\r\n                if (_BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allSolder\"].has(+enemy.id)) {\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allSolder\"].get(+enemy.id).hp = enemy.firstChild.textContent;\r\n                    // allSolder.get(solder.id).grid = path.road[path.road.length - 1].id.id;\r\n                }\r\n                else if (_BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].has(+enemy.id)) {\r\n                    _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].get(+enemy.id).hp = enemy.firstChild.textContent;\r\n                }\r\n               await this.destroy(enemy, timer);\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    async destroy(enemy, timer) {\r\n        clearInterval(timer);\r\n        enemy.classList.add('damage');\r\n        enemy.animate([\r\n            {backgroundPositionY: '0px'},\r\n            {backgroundPositionY: '-333px'}\r\n        ], {\r\n            easing: 'steps(5, end)',\r\n            duration: 800,\r\n            id: 0\r\n        }).onfinish = () => {\r\n            _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allBuild\"].delete(+enemy.id);\r\n            _BD_all_js__WEBPACK_IMPORTED_MODULE_0__[\"allSolder\"].delete(+enemy.id);\r\n           return new Promise((resolve => {\r\n                resolve(enemy.remove());\r\n            }))\r\n        };\r\n\r\n    }\r\n\r\n    static calculateAngle(startX = 0, startY = 0, endX, endY,) {\r\n        let x1 = startX;\r\n        let y1 = startY;\r\n        let x2 = endX;\r\n        let y2 = endY;\r\n\r\n        let dis = Math.abs(x2 - x1) + Math.abs(y2 - y1);\r\n\r\n        //Узнаём угол в градусах\r\n        let angl = -Math.round(Math.acos((y1 - y2) / dis) / Math.PI * 180);\r\n\r\n        if (x1 - x2 < 0) {\r\n            angl = -angl;\r\n        }\r\n\r\n        return angl;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scripts/createArmy/strike.js?");

/***/ }),

/***/ "./src/scripts/enemy/enemy.js":
/*!************************************!*\
  !*** ./src/scripts/enemy/enemy.js ***!
  \************************************/
/*! exports provided: Enemy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Enemy\", function() { return Enemy; });\n/* harmony import */ var _builds_windStation_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../builds/windStation.js */ \"./src/scripts/builds/windStation.js\");\n/* harmony import */ var _builds_barracks_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../builds/barracks.js */ \"./src/scripts/builds/barracks.js\");\n/* harmony import */ var _builds_processingPlant_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../builds/processingPlant.js */ \"./src/scripts/builds/processingPlant.js\");\n/* harmony import */ var _builds_easyFactory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../builds/easyFactory.js */ \"./src/scripts/builds/easyFactory.js\");\n/* harmony import */ var _builds_gunshotTurret_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../builds/gunshotTurret.js */ \"./src/scripts/builds/gunshotTurret.js\");\n/* harmony import */ var _builds_playground_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../builds/playground.js */ \"./src/scripts/builds/playground.js\");\n/* harmony import */ var _builds_building_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../builds/building.js */ \"./src/scripts/builds/building.js\");\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n/* harmony import */ var _enemySolder_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./enemySolder.js */ \"./src/scripts/enemy/enemySolder.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Enemy {\r\n\r\n    constructor() {\r\n        this.nameSolder = new Map([\r\n            [0, {type: 'infantry', hp: 100, forse: 2, timeWalk: 3, timeCreate: 5, timeStrike: 1}],\r\n            [1, {type: 'troopers', hp: 120, forse: 4, timeWalk: 4, timeCreate: 5, timeStrike: 1}]\r\n        ]);\r\n\r\n        this.nameMachine = new Map([\r\n            [0, {type: 'traik', hp: 180, forse: 5, timeWalk: 2, timeCreate: 5, timeStrike: 1}],\r\n            [1, {type: 'bmp', hp: 200, forse: 4, timeWalk: 2, timeCreate: 5, timeStrike: 1}],\r\n        ]);\r\n\r\n        this.nameBuild = new Map([\r\n            ['windStation', _builds_windStation_js__WEBPACK_IMPORTED_MODULE_0__[\"WindStation\"]],\r\n            ['easyFactory', _builds_easyFactory_js__WEBPACK_IMPORTED_MODULE_3__[\"EasyFactory\"]],\r\n            ['barrack', _builds_barracks_js__WEBPACK_IMPORTED_MODULE_1__[\"Barracks\"]],\r\n            ['processingPlant', _builds_processingPlant_js__WEBPACK_IMPORTED_MODULE_2__[\"ProcessingPlant\"]],\r\n            ['gunshotTurret', _builds_gunshotTurret_js__WEBPACK_IMPORTED_MODULE_4__[\"GunshotTurret\"]]\r\n        ]);\r\n\r\n        this.positionPlayground = [];\r\n\r\n        this.placeId = [\r\n            '972',\r\n            '974',\r\n            '938',\r\n            '940',\r\n            '943'\r\n        ];\r\n    }\r\n\r\n    createPlayground() {\r\n        this.placeId.forEach((placeId) => {\r\n            let playground = new _builds_playground_js__WEBPACK_IMPORTED_MODULE_5__[\"Playground\"](0, 0);\r\n            document.getElementById(playground.playground.classList.value).style.opacity = 0.5;\r\n            this.positionPlayground.push(playground);\r\n            document.getElementById(placeId).append(playground.playground);\r\n        })\r\n    }\r\n\r\n    createBuildEnemy() {\r\n        let count = 0;\r\n        this.nameBuild.forEach((build) => {\r\n            let element = new build(100, 0, 'enemy');\r\n            this.positionPlayground[count++].playground.append(element.build);\r\n            document.getElementById(element.build.classList.value).style.opacity = 0.5;\r\n            _BD_all_js__WEBPACK_IMPORTED_MODULE_7__[\"allBuild\"].get(element.id).side = 'enemy';\r\n            // if (element.build.classList.item(0) === 'gunshotTurret') {\r\n            //     element.createMagic();\r\n            // }\r\n        });\r\n    }\r\n\r\n    createSolderEnemy() {\r\n        setTimeout(function go(nameSolder) {\r\n            let barrack = document.getElementById(938);\r\n            let type = nameSolder.get(Math.floor(Math.random() * 2));\r\n            barrack != null ? new _enemySolder_js__WEBPACK_IMPORTED_MODULE_8__[\"EnemySolder\"](type.hp, 0, type.forse, type.timeWalk, type.timeCreate, type.timeStrike, 'enemy', barrack).do(type.type) : 0;\r\n\r\n\r\n            if (_BD_all_js__WEBPACK_IMPORTED_MODULE_7__[\"allSolder\"].size < 3){\r\n                setTimeout(go, type.timeCreate * 8000, nameSolder);\r\n            }\r\n        }, 8000, this.nameSolder);\r\n\r\n        setTimeout(function go(nameSolder) {\r\n            let factory = document.getElementById(974);\r\n            let type = nameSolder.get(Math.floor(Math.random() * 2));\r\n            factory != null ? new _enemySolder_js__WEBPACK_IMPORTED_MODULE_8__[\"EnemySolder\"](type.hp, 0, type.forse, type.timeWalk, type.timeCreate, type.timeStrike, 'enemy', factory).do(type.type) : 0;\r\n            if (_BD_all_js__WEBPACK_IMPORTED_MODULE_7__[\"allSolder\"].size < 3){\r\n                setTimeout(go, type.timeCreate * 10000, nameSolder);\r\n            }\r\n        }, 10000, this.nameMachine);\r\n\r\n    }\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/enemy/enemy.js?");

/***/ }),

/***/ "./src/scripts/enemy/enemySolder.js":
/*!******************************************!*\
  !*** ./src/scripts/enemy/enemySolder.js ***!
  \******************************************/
/*! exports provided: EnemySolder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EnemySolder\", function() { return EnemySolder; });\n/* harmony import */ var _createArmy_solder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../createArmy/solder.js */ \"./src/scripts/createArmy/solder.js\");\n/* harmony import */ var _BD_all_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BD/all.js */ \"./src/scripts/BD/all.js\");\n/* harmony import */ var _animation_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../animation.js */ \"./src/scripts/animation.js\");\n/* harmony import */ var _pathFinder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pathFinder.js */ \"./src/scripts/pathFinder.js\");\n/* harmony import */ var _createArmy_strike_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../createArmy/strike.js */ \"./src/scripts/createArmy/strike.js\");\n/* harmony import */ var _myGameField_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../myGameField.js */ \"./src/scripts/myGameField.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass EnemySolder extends _createArmy_solder_js__WEBPACK_IMPORTED_MODULE_0__[\"Solder\"] {\r\n\r\n    constructor(hp, cost, forse, timeCreate, timeWalk, timeStrike, side, barrack) {\r\n        super(hp, cost, forse, timeCreate, timeWalk, timeStrike, side, barrack);\r\n        this.timerDo;\r\n    }\r\n\r\n    async do(type) {\r\n        await this.createSolder(type);\r\n\r\n        this.timerDo = setTimeout(async function go(callback, timerDo, id) {\r\n            if (_BD_all_js__WEBPACK_IMPORTED_MODULE_1__[\"allSolder\"].has(id)) {\r\n                await callback();\r\n                timerDo = setTimeout(go, 1000, callback, timerDo, id)\r\n            }\r\n        }, 300, this.moveSolderEnemy.bind(this), this.timerDo, this.id)\r\n\r\n    }\r\n\r\n    moveSolderEnemy() {\r\n        let start = this.element.closest('.gridClass'),\r\n            startY = start.getAttribute('y'),\r\n            startX = start.getAttribute('x');\r\n        let positionEnemy = this.findEnemyDistance(this.element).positionEnemy;\r\n\r\n\r\n        if (positionEnemy !== undefined && !this.element.classList.contains('damage')) {\r\n            let endElement = positionEnemy.closest('.gridClass');\r\n            let endY = positionEnemy.closest('.gridClass').getAttribute('y'),\r\n                endX = positionEnemy.closest('.gridClass').getAttribute('x');\r\n            let path = new _pathFinder_js__WEBPACK_IMPORTED_MODULE_3__[\"PathFinder\"](_myGameField_js__WEBPACK_IMPORTED_MODULE_5__[\"myGameField\"], startY, startX, endY, endX);\r\n            path.road.pop();\r\n\r\n            this.animation = new _animation_js__WEBPACK_IMPORTED_MODULE_2__[\"MoveAnimetion\"]().move(path.road, this.solder.timeWalk, this.element);\r\n\r\n\r\n            return new Promise((resolve => {\r\n\r\n                if (path.road.length === 1) {\r\n                    path.road[path.road.length - 1].id.append(this.element);\r\n                    resolve(this.strikeEnemy(path));\r\n                }\r\n                else if (path.road.length > 1) {\r\n                    this.animation.onfinish = () => {\r\n                        if (_BD_all_js__WEBPACK_IMPORTED_MODULE_1__[\"allSolder\"].has(this.id)) {\r\n                            path.road[path.road.length - 1].id.append(this.element);\r\n                            resolve(this.strikeEnemy(path));\r\n                            _BD_all_js__WEBPACK_IMPORTED_MODULE_1__[\"allSolder\"].get(this.id).grid = path.road[path.road.length - 1].id.id;\r\n                            this.animation = undefined;\r\n                        }\r\n                        else {\r\n                            this.element.remove();\r\n                        }\r\n                    };\r\n                }\r\n                else {\r\n                    resolve();\r\n                }\r\n\r\n            }))\r\n        }\r\n    }\r\n\r\n    strikeEnemy(path) {\r\n        return new Promise(resolve => {\r\n            let minPositionEnemy = this.findEnemyDistance(path.road[path.road.length - 1].id).minPositionEnemy,\r\n                positionEnemy = this.findEnemyDistance(path.road[path.road.length - 1].id).positionEnemy;\r\n\r\n            if (Math.abs(minPositionEnemy) < 250 && !positionEnemy.classList.contains('damage') && !this.element.classList.contains('damage')) {\r\n                clearTimeout(this.timer);\r\n                setTimeout(function go(path, solder, positionEnemy, timer) {\r\n                    resolve(new _createArmy_strike_js__WEBPACK_IMPORTED_MODULE_4__[\"Strike\"]().strike(path, solder, positionEnemy, timer));\r\n                }, 300 * this.solder.timeStrike, path, this.solder, positionEnemy, this.timer)\r\n            }\r\n            else {\r\n                resolve();\r\n            }\r\n        })\r\n    }\r\n\r\n    findEnemyDistance(path) {\r\n        let enemy = this.solder.side === 'player' ? 'enemy' : 'player';\r\n\r\n        let minDist = new Map();\r\n\r\n        let start = this.element.closest('.gridClass');\r\n\r\n        let allPositionEnemy = document.getElementById('wrapper').querySelectorAll(`[side=${enemy}]`);\r\n\r\n        [...allPositionEnemy].forEach((el) => {\r\n            let x = Math.abs(el.getBoundingClientRect().left - path.getBoundingClientRect().left),\r\n                y = Math.abs(el.getBoundingClientRect().top - path.getBoundingClientRect().top);\r\n            let distance = Math.floor(Math.sqrt(x ** 2 + y ** 2));\r\n            minDist.set(distance, el);\r\n        });\r\n\r\n        let minPositionEnemy = Math.min(...minDist.keys()),\r\n            positionEnemy = minDist.get(minPositionEnemy);\r\n        return {minPositionEnemy, positionEnemy};\r\n    }\r\n\r\n}\n\n//# sourceURL=webpack:///./src/scripts/enemy/enemySolder.js?");

/***/ }),

/***/ "./src/scripts/myGameField.js":
/*!************************************!*\
  !*** ./src/scripts/myGameField.js ***!
  \************************************/
/*! exports provided: myGameField */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"myGameField\", function() { return myGameField; });\nlet myGameField = [],\r\n    rockPosition = [452, 762, 843, 233, 328, 392, 417, 418, 323, 325, 358, 389, 390, 391, 360, 329, 362, 330, 331, 299, 332, 267, 266, 265, 232, 231, 199, 198, 167, 168, 136, 169, 137, 105, 104, 103, 135, 102, 234, 203, 171, 172, 484, 453, 964, 996, 899, 744, 745, 746, 714, 682, 683, 652, 651, 620, 588, 556, 555, 586, 553, 554, 906, 907, 875, 844, 845, 846, 847, 815, 814, 813, 462, 463, 495, 464, 465, 432, 401, 400, 402, 434, 467, 435, 436, 404, 373, 405, 369, 370, 440, 472, 408, 376, 377, 410, 441, 409, 378, 442, 411, 443, 379, 348, 380, 349, 350, 758, 759, 760, 757, 727, 761, 730, 698, 665, 666, 667, 668, 636, 634, 635, 1016, 1017, 984, 983, 950, 982, 919, 951],\r\n    spicePosition = [517, 518, 551, 519, 486, 454, 455, 487, 520, 488, 456, 425, 457, 489, 521, 458, 426, 490, 522, 523, 491, 459, 427, 428, 460, 492, 524, 557, 525, 493, 526, 558, 590, 842, 811, 810, 779, 780, 747, 748, 749, 781, 782, 783, 751, 750, 716, 717, 718, 719, 720, 752, 689, 721, 688, 656, 655, 687, 685, 686, 654, 624, 592, 560, 528, 497, 529, 561, 593, 625, 657, 658, 498, 530, 562, 594, 626, 690, 722, 754, 786, 753, 818, 851, 852, 853, 821, 789, 788, 820, 819, 787, 755, 723, 691, 659, 627, 595, 563, 531, 499, 500, 532, 564, 596, 628, 660, 693, 661, 629, 565, 597, 598, 662, 630, 631, 632, 600, 568, 536, 505, 506, 475, 507, 539, 571, 603, 602, 601, 569, 537, 538, 570, 567, 535, 502, 534, 533, 469, 470, 503, 501, 471, 439, 407, 375, 343, 311, 310, 342, 374, 406, 438, 396, 397, 398, 399, 367, 335, 366, 365, 333, 334, 336, 303, 302, 270, 269, 268, 236, 205, 237, 238, 174, 206, 175, 207, 239, 271, 272, 240, 208, 209, 241, 242, 274, 306, 307, 275, 276, 308, 309, 341, 340, 339],\r\n    main = document.getElementById('wrapper');\r\n\r\nrockPosition.sort((a, b) => {\r\n    return a - b;\r\n});\r\n\r\nlet count = 0;\r\n\r\nfor (let i = 0; i < 32; i++) {\r\n\r\n    let id = 0,\r\n        building = false,\r\n        rock = false,\r\n        y = i,\r\n        x = 0,\r\n        F = 0,\r\n        Gl = 0,\r\n        spice = 0,\r\n        parent = 0;\r\n\r\n    myGameField[i] = [];\r\n\r\n    for (let j = 0; j < 32; j++) {\r\n\r\n        count++;\r\n        id = document.createElement('div');\r\n        id.classList.add('gridClass');\r\n        id.id = count;\r\n        x = j;\r\n\r\n        myGameField[i][j] = {id, building, spice, rock, x, y, F, Gl, parent};\r\n        myGameField[i][j].id.setAttribute('x', x);\r\n        myGameField[i][j].id.setAttribute('y', y);\r\n        main.append(myGameField[i][j].id);\r\n    }\r\n}\r\n\r\n\r\nfor (let k = 0; k < 32; k++) {\r\n    for (let i = 0; i < 32; i++) {\r\n        for (let j = 0; j < rockPosition.length; j++) {\r\n            if (rockPosition[j] === +myGameField[k][i].id.id) {\r\n                myGameField[k][i].rock = true;\r\n                // myGameField[k][i].id.style.backgroundColor = 'red';\r\n                // myGameField[k][i].id.style.opacity = 0.5;\r\n            }\r\n        }\r\n        for (let j = 0; j < spicePosition.length; j++) {\r\n            if (spicePosition[j] === +myGameField[k][i].id.id) {\r\n                myGameField[k][i].spice = 100;\r\n                // myGameField[k][i].id.style.backgroundColor = 'green';\r\n                // myGameField[k][i].id.style.opacity = 0.5;\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/myGameField.js?");

/***/ }),

/***/ "./src/scripts/pathFinder.js":
/*!***********************************!*\
  !*** ./src/scripts/pathFinder.js ***!
  \***********************************/
/*! exports provided: PathFinder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PathFinder\", function() { return PathFinder; });\nclass PathFinder {\r\n\r\n    constructor(grid, startY, startX, endY, endX) {\r\n        window.onerror = (err) => {\r\n            console.log(`No path`);\r\n        };\r\n        this.move = [[1, 0], [0, 1], [0, -1], [-1, 0], [1, 1], [-1, -1], [1, -1], [-1, 1]];\r\n        this.road =[];\r\n        this.start = [];\r\n        this.close = new Map();\r\n        this.myGameField = grid;\r\n        this.end = {y: endY, x: endX};\r\n        this.startPosition = {y: startY, x: startX};\r\n        this.positionCar = this.myGameField[startY][startX];\r\n        this.getPathFinder();\r\n    }\r\n\r\n    init() {\r\n\r\n        this.start.push(this.positionCar);\r\n        let neighbours = [];\r\n        for (let i = 0; i < this.move.length; i++) {\r\n\r\n            let haveInMyGameField = false;\r\n            if (this.positionCar !== undefined && (this.positionCar.x + this.move[i][1] > -1 && this.positionCar.x + this.move[i][1] < this.myGameField.length) && (this.positionCar.y + this.move[i][0] > -1 && this.positionCar.y + this.move[i][0] < this.myGameField.length)) {\r\n                haveInMyGameField = true;\r\n            }\r\n\r\n            if (haveInMyGameField && !this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].rock) {\r\n\r\n                let G = this.findG(this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]], i, this.positionCar);\r\n\r\n                let H = PathFinder.manhattan(this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]], this.myGameField[this.end.y][this.end.x]) * 10;\r\n\r\n                let Full = G + H;\r\n\r\n                neighbours.push(this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]]);\r\n\r\n                this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].Gl = G;\r\n                this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].F = Full;\r\n                // this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].id.textContent = `H:${H} G:${G} F:${Full}`;\r\n                this.start.push(this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]]);\r\n\r\n                if (this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].parent === 0) {\r\n                    this.myGameField[this.positionCar.y + this.move[i][0]][this.positionCar.x + this.move[i][1]].parent = this.positionCar;\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < this.start.length; i++) {\r\n            if (this.positionCar === this.start[i]) {\r\n                let x = this.start.splice(i, 1);\r\n            }\r\n        }\r\n\r\n        this.close.set(this.positionCar, neighbours);\r\n        this.positionCar = this.findMinFuel(this.start);\r\n\r\n        // this.positionCar.id.style.backgroundColor = 'green';\r\n    }\r\n\r\n    findG(pos, i, posCar) {\r\n        let x = 14;\r\n\r\n        if (i < 4) {\r\n            x = 10;\r\n        }\r\n\r\n        let curr = posCar.Gl + x;\r\n\r\n        for (let value of this.close.values()) {\r\n            value.some((el) => {\r\n                if (el === pos && curr > pos.Gl) {\r\n                    return curr = pos.Gl\r\n                }\r\n            });\r\n        }\r\n        return curr;\r\n    }\r\n\r\n    static manhattan(pos0, pos1) {\r\n        let d1 = Math.abs(pos1.x - pos0.x);\r\n        let d2 = Math.abs(pos1.y - pos0.y);\r\n        return d1 + d2;\r\n    }\r\n\r\n    findMinFuel(start) {\r\n        let minArrayNumber = [];\r\n        start.map((el) => {\r\n            if (!this.close.has(el) && el.F !== undefined) {\r\n                minArrayNumber.push(el.F)\r\n            }\r\n        });\r\n\r\n        return start.find((el) => {\r\n            if (el.F === Math.min(...minArrayNumber)) {\r\n                return el;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    async getPathFinder() {\r\n        while (!this.close.has(this.myGameField[this.end.y][this.end.x])) {\r\n            this.init();\r\n        }\r\n        this.findWayReverse();\r\n        this.cleanMyGameField();\r\n    }\r\n\r\n    findWayReverse() {\r\n        let wayReverse = [];\r\n\r\n        let finish = this.myGameField[this.end.y][this.end.x];\r\n\r\n        wayReverse.push(finish);\r\n\r\n        while (finish !== this.myGameField[this.startPosition.y][this.startPosition.x]) {\r\n            finish = finish.parent;\r\n            wayReverse.push(finish);\r\n        }\r\n        return this.road = wayReverse.reverse();\r\n    }\r\n\r\n    cleanMyGameField() {\r\n        for (let i = 0; i < 32; i++) {\r\n            for (let j = 0; j < 32; j++) {\r\n                this.myGameField[i][j].Gl = 0;\r\n                this.myGameField[i][j].parent = 0;\r\n                this.myGameField[i][j].F = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/pathFinder.js?");

/***/ }),

/***/ "./src/scripts/sideMenu/sideMenu.js":
/*!******************************************!*\
  !*** ./src/scripts/sideMenu/sideMenu.js ***!
  \******************************************/
/*! exports provided: SideMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SideMenu\", function() { return SideMenu; });\nclass SideMenu {\r\n\r\n\r\n\r\n    constructor() {\r\n        this.nameBuildSideMenu = [\r\n            \"playground\",\r\n            \"barrack\",\r\n            \"windStation\",\r\n            \"processingPlant\",\r\n            \"easyFactory\",\r\n            \"gunshotTurret\",\r\n        ];\r\n\r\n        this.nameSolderSideMenu = [\r\n            \"infantry\",\r\n            \"troopers\",\r\n        ];\r\n\r\n        this.nameMachineSideMenu = [\r\n            \"traik\",\r\n            \"bmp\"\r\n        ];\r\n\r\n        this.buttonSideMenu = document.getElementById('buttonSideMenu');\r\n        this.buildSideMenu = document.getElementById('buildSideMenu');\r\n        this.solderSideMenu = document.getElementById('solderSideMenu');\r\n        this.machineSideMenu = document.getElementById('machineSideMenu');\r\n        this.createBuildSideMenu();\r\n        this.createSolderSideMenu();\r\n        this.createMachineSideMenu();\r\n        this.buttonSideMenu.addEventListener('click', this);\r\n    }\r\n\r\n    handleEvent() {\r\n        let nameButton = event.target;\r\n        switch (nameButton.id) {\r\n            case 'buttonBuildSideMenu':\r\n                this.solderSideMenu.style.display = 'none';\r\n                this.machineSideMenu.style.display = 'none';\r\n                return this.buildSideMenu.style.display = 'grid';\r\n\r\n            case 'buttonSolderSideMenu':\r\n                this.buildSideMenu.style.display = 'none';\r\n                this.machineSideMenu.style.display = 'none';\r\n                return;\r\n\r\n            case 'buttonMachineSideMenu':\r\n                this.buildSideMenu.style.display = 'none';\r\n                this.solderSideMenu.style.display = 'none';\r\n                return\r\n        }\r\n    }\r\n\r\n    createBuildSideMenu() {\r\n        this.buildSideMenu.append(\r\n            this.nameBuildSideMenu.reduce((fragment, item) => {\r\n                let sideMenu = document.createElement('div');\r\n                sideMenu.id = item;\r\n                fragment.append(sideMenu);\r\n                return fragment;\r\n            }, document.createDocumentFragment())\r\n        );\r\n    }\r\n\r\n    createSolderSideMenu() {\r\n        this.solderSideMenu.append(\r\n            this.nameSolderSideMenu.reduce((fragment, item) => {\r\n                let sideMenu = document.createElement('div');\r\n                sideMenu.id = item;\r\n                fragment.append(sideMenu);\r\n                return fragment;\r\n            }, document.createDocumentFragment())\r\n        );\r\n    }\r\n\r\n    createMachineSideMenu() {\r\n        this.machineSideMenu.append(\r\n            this.nameMachineSideMenu.reduce((fragment, item) => {\r\n                let sideMenu = document.createElement('div');\r\n                sideMenu.id = item;\r\n                fragment.append(sideMenu);\r\n                return fragment;\r\n            }, document.createDocumentFragment())\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/scripts/sideMenu/sideMenu.js?");

/***/ }),

/***/ "./src/styles/build.scss":
/*!*******************************!*\
  !*** ./src/styles/build.scss ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/build.scss?");

/***/ }),

/***/ "./src/styles/machine.scss":
/*!*********************************!*\
  !*** ./src/styles/machine.scss ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/machine.scss?");

/***/ }),

/***/ "./src/styles/main.scss":
/*!******************************!*\
  !*** ./src/styles/main.scss ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/main.scss?");

/***/ }),

/***/ "./src/styles/solder.scss":
/*!********************************!*\
  !*** ./src/styles/solder.scss ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/solder.scss?");

/***/ }),

/***/ "./src/styles/strike.scss":
/*!********************************!*\
  !*** ./src/styles/strike.scss ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./src/styles/strike.scss?");

/***/ })

/******/ });